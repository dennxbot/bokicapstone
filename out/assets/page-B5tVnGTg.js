import{u as j,r as l,j as e}from"./index-rA_UgCij.js";import{u as N}from"./useAuth-CjWk1XML.js";import{B as x}from"./Button-CaIT6pSL.js";import{A as u}from"./AdminSidebar-CLXZbcRD.js";import{n as t}from"./notifications-CinQkvF9.js";const k=()=>{const{isAuthenticated:r,isAdmin:a,isLoading:n}=N(),d=j(),[s,c]=l.useState("default"),[o,m]=l.useState(!1);l.useEffect(()=>{if(!n){if(!r||!a){d("/login");return}h()}},[r,a,n,d]);const h=async()=>{try{const i=t.getPermission();c(i)}catch(i){console.error("Error initializing notifications:",i)}},g=async()=>{try{const i=await t.requestPermission();c(i),i==="granted"&&await t.showNotification({title:"ðŸ”” Notifications Enabled!",body:"You will now receive desktop notifications for new orders.",requireInteraction:!1})}catch(i){console.error("Error requesting notification permission:",i)}},f=async()=>{try{t.isEnabled()&&(await t.showNotification({title:"ðŸ§ª Test Notification",body:"This is a test notification to verify your settings are working correctly.",requireInteraction:!1}),m(!0),setTimeout(()=>m(!1),3e3))}catch(i){console.error("Error sending test notification:",i)}};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!r||!a?null:e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(u,{}),e.jsxs("div",{className:"flex-1 ml-64",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your desktop notification preferences"})]})})})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-notification-line text-xl text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Desktop Notifications"}),e.jsx("p",{className:"text-gray-600",children:"Get notified about new orders and status updates"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${s==="granted"?"bg-green-500":s==="denied"?"bg-red-500":"bg-yellow-500"}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Current Status"}),e.jsx("p",{className:"text-sm text-gray-600",children:s==="granted"?"Notifications are enabled and working":s==="denied"?"Notifications are blocked by your browser":"Notifications are not configured"})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s==="granted"?"bg-green-100 text-green-800":s==="denied"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s==="granted"?"Enabled":s==="denied"?"Blocked":"Not Set"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[s!=="granted"&&e.jsxs(x,{variant:"primary",onClick:g,className:"bg-orange-500 hover:bg-orange-600",children:[e.jsx("i",{className:"ri-notification-line mr-2"}),s==="denied"?"Enable in Browser Settings":"Enable Notifications"]}),s==="granted"&&e.jsxs(x,{variant:"outline",onClick:f,disabled:o,children:[e.jsx("i",{className:"ri-test-tube-line mr-2"}),o?"Test Sent!":"Send Test Notification"]})]}),s==="granted"&&e.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("i",{className:"ri-check-line text-green-600 mr-2 mt-0.5"}),e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Notifications are working!"}),e.jsx("p",{children:"You'll receive desktop notifications for:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"New incoming orders"}),e.jsx("li",{children:"Order status updates (preparing, ready, completed)"}),e.jsx("li",{children:"Important system alerts"})]})]})]})}),s==="denied"&&e.jsx("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("i",{className:"ri-error-warning-line text-red-600 mr-2 mt-0.5"}),e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("p",{className:"font-medium mb-2",children:"Notifications are blocked"}),e.jsx("p",{className:"mb-2",children:"To enable notifications:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Click the lock icon (ðŸ”’) in your browser's address bar"}),e.jsx("li",{children:'Find "Notifications" in the permissions list'}),e.jsx("li",{children:'Change it from "Block" to "Allow"'}),e.jsx("li",{children:"Refresh this page"})]})]})]})}),s==="default"&&e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("i",{className:"ri-information-line text-blue-600 mr-2 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Enable notifications to stay updated"}),e.jsx("p",{children:"Desktop notifications will help you:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Never miss a new order"}),e.jsx("li",{children:"Stay informed about order progress"}),e.jsx("li",{children:"Respond quickly to customer needs"}),e.jsx("li",{children:"Work efficiently even when multitasking"})]})]})]})})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Notification Types"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("i",{className:"ri-shopping-bag-line text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"New Orders"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when customers place new orders"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-green-600 font-medium mr-2",children:"Always On"}),e.jsx("i",{className:"ri-check-line text-green-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("i",{className:"ri-refresh-line text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Status Updates"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when order status changes"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-blue-600 font-medium mr-2",children:"Always On"}),e.jsx("i",{className:"ri-check-line text-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg opacity-50",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("i",{className:"ri-alarm-line text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"System Alerts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Important system notifications and alerts"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-gray-500 font-medium mr-2",children:"Coming Soon"}),e.jsx("i",{className:"ri-time-line text-gray-400"})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Browser Compatibility"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[e.jsx("i",{className:"ri-chrome-line text-2xl text-blue-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Chrome"}),e.jsx("p",{className:"text-sm text-green-600",children:"âœ“ Supported"})]})]}),e.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[e.jsx("i",{className:"ri-firefox-line text-2xl text-orange-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Firefox"}),e.jsx("p",{className:"text-sm text-green-600",children:"âœ“ Supported"})]})]}),e.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[e.jsx("i",{className:"ri-safari-line text-2xl text-blue-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Safari"}),e.jsx("p",{className:"text-sm text-green-600",children:"âœ“ Supported"})]})]}),e.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[e.jsx("i",{className:"ri-edge-line text-2xl text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Edge"}),e.jsx("p",{className:"text-sm text-green-600",children:"âœ“ Supported"})]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Desktop notifications are supported in all modern browsers. Make sure your browser is up to date for the best experience."})]})})]})})]})]})};export{k as default};
//# sourceMappingURL=page-B5tVnGTg.js.map
