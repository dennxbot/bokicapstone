{"version":3,"file":"page-CbRIr4sw.js","sources":["../../src/pages/admin/categories/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../../../lib/supabase';\nimport { useAuth } from '../../../hooks/useAuth';\nimport AdminSidebar from '../../../components/feature/AdminSidebar';\nimport Button from '../../../components/base/Button';\nimport Input from '../../../components/base/Input';\n\ninterface Category {\n  id: string;\n  name: string;\n  description?: string;\n  image_url?: string;\n  is_active: boolean;\n  created_at: string;\n  updated_at?: string;\n  food_items_count?: number;\n}\n\nconst AdminCategories = () => {\n  const navigate = useNavigate();\n  const { isLoading, isAuthenticated, isAdmin } = useAuth();\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [isAddingCategory, setIsAddingCategory] = useState(false);\n  const [editingCategory, setEditingCategory] = useState<Category | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [newCategory, setNewCategory] = useState({\n    name: '',\n    description: '',\n    image_url: '',\n    is_active: true\n  });\n\n  useEffect(() => {\n    // Wait for auth to load before checking\n    if (isLoading) return;\n\n    // If not authenticated or not admin, redirect to login\n    if (!isAuthenticated || !isAdmin) {\n      navigate('/login');\n      return;\n    }\n\n    fetchCategories();\n  }, [isAuthenticated, isAdmin, isLoading, navigate]);\n\n  const fetchCategories = async () => {\n    try {\n      setLoading(true);\n\n      // Fetch categories with food items count\n      const { data: categoriesData, error: categoriesError } = await supabase\n        .from('categories')\n        .select(`\n          *,\n          food_items(count)\n        `)\n        .order('name');\n\n      if (categoriesError) throw categoriesError;\n\n      // Transform the data to include food_items_count\n      const categoriesWithCount = categoriesData?.map(category => ({\n        ...category,\n        food_items_count: category.food_items?.[0]?.count || 0\n      })) || [];\n\n      setCategories(categoriesWithCount);\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value, type } = e.target;\n    const checked = (e.target as HTMLInputElement).checked;\n    \n    setNewCategory(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  const handleAddCategory = async () => {\n    if (!newCategory.name.trim()) {\n      alert('Please enter a category name');\n      return;\n    }\n\n    try {\n      const imageUrl = newCategory.image_url || `https://readdy.ai/api/search-image?query=delicious%20${newCategory.name}%20food%20category%20with%20appetizing%20presentation%2C%20restaurant%20quality%20photography%2C%20clean%20background&width=400&height=300&seq=${Date.now()}&orientation=landscape`;\n\n      const { data, error } = await supabase\n        .from('categories')\n        .insert([{\n          name: newCategory.name.trim(),\n          description: newCategory.description.trim() || null,\n          image_url: imageUrl,\n          is_active: newCategory.is_active\n        }])\n        .select('*');\n\n      if (error) throw error;\n\n      if (data) {\n        const newCategoryWithCount = {\n          ...data[0],\n          food_items_count: 0\n        };\n        setCategories([...categories, newCategoryWithCount]);\n      }\n\n      setNewCategory({\n        name: '',\n        description: '',\n        image_url: '',\n        is_active: true\n      });\n      setIsAddingCategory(false);\n    } catch (error) {\n      console.error('Error adding category:', error);\n      alert('Error adding category. Please try again.');\n    }\n  };\n\n  const handleEditCategory = (category: Category) => {\n    setEditingCategory(category);\n    setNewCategory({\n      name: category.name,\n      description: category.description || '',\n      image_url: category.image_url || '',\n      is_active: category.is_active\n    });\n  };\n\n  const handleUpdateCategory = async () => {\n    if (!editingCategory || !newCategory.name.trim()) {\n      alert('Please enter a category name');\n      return;\n    }\n\n    try {\n      const { data, error } = await supabase\n        .from('categories')\n        .update({\n          name: newCategory.name.trim(),\n          description: newCategory.description.trim() || null,\n          image_url: newCategory.image_url || null,\n          is_active: newCategory.is_active,\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', editingCategory.id)\n        .select('*');\n\n      if (error) throw error;\n\n      if (data) {\n        const updatedCategoryWithCount = {\n          ...data[0],\n          food_items_count: editingCategory.food_items_count\n        };\n        setCategories(categories.map(category => \n          category.id === editingCategory.id ? updatedCategoryWithCount : category\n        ));\n      }\n\n      setEditingCategory(null);\n      setNewCategory({\n        name: '',\n        description: '',\n        image_url: '',\n        is_active: true\n      });\n    } catch (error) {\n      console.error('Error updating category:', error);\n      alert('Error updating category. Please try again.');\n    }\n  };\n\n  const handleDeleteCategory = async (categoryId: string, categoryName: string, foodItemsCount: number) => {\n    if (foodItemsCount > 0) {\n      alert(`Cannot delete \"${categoryName}\" because it has ${foodItemsCount} menu item(s) assigned to it. Please reassign or delete those items first.`);\n      return;\n    }\n\n    if (!confirm(`Are you sure you want to delete the category \"${categoryName}\"? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      const { error } = await supabase\n        .from('categories')\n        .delete()\n        .eq('id', categoryId);\n\n      if (error) throw error;\n\n      setCategories(categories.filter(category => category.id !== categoryId));\n    } catch (error) {\n      console.error('Error deleting category:', error);\n      alert('Error deleting category. Please try again.');\n    }\n  };\n\n  const handleToggleActive = async (categoryId: string, currentStatus: boolean) => {\n    try {\n      const { error } = await supabase\n        .from('categories')\n        .update({ \n          is_active: !currentStatus,\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', categoryId);\n\n      if (error) throw error;\n\n      setCategories(categories.map(category => \n        category.id === categoryId \n          ? { ...category, is_active: !currentStatus }\n          : category\n      ));\n    } catch (error) {\n      console.error('Error updating category status:', error);\n      alert('Error updating category status. Please try again.');\n    }\n  };\n\n  const cancelEdit = () => {\n    setEditingCategory(null);\n    setIsAddingCategory(false);\n    setNewCategory({\n      name: '',\n      description: '',\n      image_url: '',\n      is_active: true\n    });\n  };\n\n  // Show loading while checking authentication\n  if (isLoading || loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Don't render if not authenticated or not admin\n  if (!isAuthenticated || !isAdmin) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      <AdminSidebar />\n      \n      <div className=\"flex-1 ml-64\">\n        <div className=\"bg-white shadow-sm border-b border-gray-200\">\n          <div className=\"px-6 py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">Category Management</h1>\n                <p className=\"text-gray-600\">Manage food categories for your menu</p>\n              </div>\n              <Button\n                onClick={() => setIsAddingCategory(true)}\n                className=\"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 whitespace-nowrap\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>\n                Add Category\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {/* Add/Edit Category Form */}\n          {(isAddingCategory || editingCategory) && (\n            <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-900 mb-4\">\n                {editingCategory ? 'Edit Category' : 'Add New Category'}\n              </h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <Input\n                  label=\"Category Name\"\n                  name=\"name\"\n                  value={newCategory.name}\n                  onChange={handleInputChange}\n                  required\n                />\n\n                <Input\n                  label=\"Image URL (optional)\"\n                  name=\"image_url\"\n                  value={newCategory.image_url}\n                  onChange={handleInputChange}\n                />\n\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Description (optional)\n                  </label>\n                  <textarea\n                    name=\"description\"\n                    value={newCategory.description}\n                    onChange={handleInputChange}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                    placeholder=\"Brief description of this category...\"\n                  />\n                </div>\n\n                <div className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"is_active\"\n                    checked={newCategory.is_active}\n                    onChange={handleInputChange}\n                    className=\"mr-2\"\n                  />\n                  <label className=\"text-sm font-medium text-gray-700\">\n                    Active (visible to customers)\n                  </label>\n                </div>\n              </div>\n\n              <div className=\"flex space-x-3 mt-6\">\n                <Button\n                  onClick={editingCategory ? handleUpdateCategory : handleAddCategory}\n                  className=\"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2\"\n                >\n                  {editingCategory ? 'Update Category' : 'Add Category'}\n                </Button>\n                <Button\n                  onClick={cancelEdit}\n                  variant=\"outline\"\n                  className=\"px-6 py-2\"\n                >\n                  Cancel\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* Categories List */}\n          <div className=\"bg-white rounded-lg shadow-sm overflow-hidden\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">\n                All Categories ({categories.length})\n              </h2>\n            </div>\n\n            {categories.length > 0 ? (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Category\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Description\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Menu Items\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Status\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Created\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Actions\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {categories.map((category) => (\n                      <tr key={category.id} className=\"hover:bg-gray-50\">\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"flex items-center\">\n                            <div className=\"flex-shrink-0 h-12 w-12\">\n                              <img\n                                className=\"h-12 w-12 rounded-lg object-cover\"\n                                src={category.image_url || `https://readdy.ai/api/search-image?query=delicious%20${category.name}%20food%20category&width=100&height=100&seq=${category.id}&orientation=square`}\n                                alt={category.name}\n                              />\n                            </div>\n                            <div className=\"ml-4\">\n                              <div className=\"text-sm font-medium text-gray-900\">\n                                {category.name}\n                              </div>\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <div className=\"text-sm text-gray-900 max-w-xs truncate\">\n                            {category.description || 'No description'}\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"text-sm text-gray-900\">\n                            {category.food_items_count || 0} items\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <button\n                            onClick={() => handleToggleActive(category.id, category.is_active)}\n                            className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                              category.is_active\n                                ? 'bg-green-100 text-green-800'\n                                : 'bg-red-100 text-red-800'\n                            }`}\n                          >\n                            {category.is_active ? 'Active' : 'Inactive'}\n                          </button>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                          {new Date(category.created_at).toLocaleDateString()}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                          <div className=\"flex space-x-2\">\n                            <Button\n                              onClick={() => handleEditCategory(category)}\n                              className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 text-sm\"\n                            >\n                              <i className=\"ri-edit-line mr-1\"></i>\n                              Edit\n                            </Button>\n                            <Button\n                              onClick={() => handleDeleteCategory(category.id, category.name, category.food_items_count || 0)}\n                              className=\"bg-red-600 hover:bg-red-700 text-white px-3 py-1 text-sm\"\n                              disabled={(category.food_items_count || 0) > 0}\n                            >\n                              <i className=\"ri-delete-bin-line mr-1\"></i>\n                              Delete\n                            </Button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            ) : (\n              <div className=\"text-center py-12\">\n                <i className=\"ri-folder-line text-4xl text-gray-400 mb-4\"></i>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">No categories found</h3>\n                <p className=\"text-gray-600 mb-4\">Create your first category to organize your menu items.</p>\n                <Button\n                  onClick={() => setIsAddingCategory(true)}\n                  className=\"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2\"\n                >\n                  Add First Category\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminCategories;"],"names":["AdminCategories","navigate","useNavigate","isLoading","isAuthenticated","isAdmin","useAuth","categories","setCategories","useState","isAddingCategory","setIsAddingCategory","editingCategory","setEditingCategory","loading","setLoading","newCategory","setNewCategory","useEffect","fetchCategories","categoriesData","categoriesError","supabase","categoriesWithCount","category","_b","_a","error","handleInputChange","e","name","value","type","checked","prev","handleAddCategory","imageUrl","data","newCategoryWithCount","handleEditCategory","handleUpdateCategory","updatedCategoryWithCount","handleDeleteCategory","categoryId","categoryName","foodItemsCount","handleToggleActive","currentStatus","cancelEdit","jsxs","jsx","AdminSidebar","Button","Input"],"mappings":"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"}