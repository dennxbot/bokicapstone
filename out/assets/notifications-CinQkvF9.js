var u=Object.defineProperty;var p=(n,t,e)=>t in n?u(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var a=(n,t,e)=>p(n,typeof t!="symbol"?t+"":t,e);const i=class i{constructor(){a(this,"isSupported");a(this,"permission");this.isSupported="Notification"in window,this.permission=this.isSupported?Notification.permission:"denied"}static getInstance(){return i.instance||(i.instance=new i),i.instance}isNotificationSupported(){return this.isSupported}getPermission(){return this.permission}async requestPermission(){if(!this.isSupported)return console.warn("Browser does not support notifications"),"denied";if(this.permission==="granted")return"granted";try{const t=await Notification.requestPermission();return this.permission=t,t}catch(t){return console.error("Error requesting notification permission:",t),"denied"}}async showNotification(t){if(!this.isSupported)return console.warn("Notifications not supported"),null;if(this.permission!=="granted")return console.warn("Notification permission not granted"),null;try{const e=new Notification(t.title,{body:t.body,icon:t.icon||"/favicon.ico",badge:t.badge||"/favicon.ico",tag:t.tag||"boki-notification",requireInteraction:t.requireInteraction||!0,silent:t.silent||!1,data:t.data||{}});return t.requireInteraction||setTimeout(()=>{e.close()},1e4),e}catch(e){return console.error("Error showing notification:",e),null}}async showNewOrderNotification(t){const{orderId:e,customerName:o,totalAmount:r,orderType:s}=t;return this.showNotification({title:"ğŸ½ï¸ New Order Received!",body:`Order #${e.slice(-4)} from ${o}
â‚±${r.toFixed(2)} â€¢ ${s}`,icon:"/favicon.ico",tag:`new-order-${e}`,requireInteraction:!0,data:{type:"new_order",orderId:e,customerName:o,totalAmount:r,orderType:s,timestamp:new Date().toISOString()}})}async showOrderUpdateNotification(t){const{orderId:e,customerName:o,status:r,previousStatus:s}=t,d={preparing:"ğŸ‘¨â€ğŸ³",ready:"âœ…",out_for_delivery:"ğŸšš",completed:"ğŸ‰",cancelled:"âŒ"}[r]||"ğŸ“‹";return this.showNotification({title:`${d} Order Status Updated`,body:`Order #${e.slice(-4)} (${o})
${s} â†’ ${r}`,icon:"/favicon.ico",tag:`order-update-${e}`,requireInteraction:!1,data:{type:"order_update",orderId:e,customerName:o,status:r,previousStatus:s,timestamp:new Date().toISOString()}})}isEnabled(){return this.isSupported&&this.permission==="granted"}getNotificationInfo(){return{supported:this.isSupported,permission:this.permission,enabled:this.isEnabled(),canRequest:this.permission==="default"}}};a(i,"instance");let c=i;const l=c.getInstance();export{l as n};
//# sourceMappingURL=notifications-CinQkvF9.js.map
