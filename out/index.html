<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boki - Food Ordering System</title>
    
    <!-- React and ReactDOM from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Additional libraries -->
    <script src="https://unpkg.com/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <script src="https://unpkg.com/react-router-dom@6/dist/umd/react-router-dom.production.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom styles -->
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
          'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
          sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background-color: #f8fafc;
        color: #1f2937;
      }
      
      #root {
        min-height: 100vh;
      }
      
      .loading-screen {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }
      
      .loading-spinner {
        width: 50px;
        height: 50px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-top: 3px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-bottom: 20px;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .boki-logo {
        font-size: 3rem;
        font-weight: bold;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      }
      
      .boki-subtitle {
        font-size: 1.2rem;
        opacity: 0.9;
        margin-bottom: 30px;
      }
      
      .food-emoji {
        font-size: 2rem;
        margin: 0 10px;
        animation: bounce 2s infinite;
      }
      
      @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-10px); }
        60% { transform: translateY(-5px); }
      }
    </style>
  </head>
  <body>
    <div id="root">
      <div class="loading-screen">
        <div class="loading-spinner"></div>
        <div class="boki-logo">BOKI</div>
        <div class="boki-subtitle">Food Ordering System</div>
        <div>
          <span class="food-emoji">üçú</span>
          <span class="food-emoji">üçï</span>
          <span class="food-emoji">üçî</span>
          <span class="food-emoji">ü•ó</span>
        </div>
      </div>
    </div>
    <div id="kiosk-root"></div>
    
    <script>
      // Configuration for Supabase
      const SUPABASE_URL = 'https://your-supabase-url.supabase.co';
      const SUPABASE_ANON_KEY = 'your-anon-key';
      
      // Initialize Supabase client
      let supabaseClient = null;
      try {
        supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
      } catch (e) {
        console.warn('Supabase client could not be initialized:', e);
      }
      
      // Main Boki App Component
      function App() {
        const [isLoading, setIsLoading] = React.useState(true);
        const [user, setUser] = React.useState(null);
        const [foodItems, setFoodItems] = React.useState([]);
        const [cart, setCart] = React.useState([]);
        
        React.useEffect(() => {
          // Simulate app initialization
          const initializeApp = async () => {
            try {
              // Simulate API calls
              await new Promise(resolve => setTimeout(resolve, 2000));
              
              // Mock food items
              const mockFoodItems = [
                { id: 1, name: 'Chicken Adobo', price: 150, image: 'üçó', description: 'Classic Filipino dish' },
                { id: 2, name: 'Pancit Canton', price: 120, image: 'üçú', description: 'Stir-fried noodles' },
                { id: 3, name: 'Beef Tapa', price: 180, image: 'ü•©', description: 'Cured beef with garlic rice' },
                { id: 4, name: 'Bangus Sisig', price: 160, image: 'üêü', description: 'Milkfish sisig' },
                { id: 5, name: 'Pork BBQ', price: 25, image: 'üç¢', description: 'Filipino-style barbecue' },
                { id: 6, name: 'Halo-Halo', price: 85, image: 'üçß', description: 'Mixed dessert' }
              ];
              
              setFoodItems(mockFoodItems);
              setIsLoading(false);
            } catch (error) {
              console.error('Error initializing app:', error);
              setIsLoading(false);
            }
          };
          
          initializeApp();
        }, []);
        
        const addToCart = (item) => {
          setCart(prevCart => {
            const existingItem = prevCart.find(cartItem => cartItem.id === item.id);
            if (existingItem) {
              return prevCart.map(cartItem =>
                cartItem.id === item.id
                  ? { ...cartItem, quantity: cartItem.quantity + 1 }
                  : cartItem
              );
            }
            return [...prevCart, { ...item, quantity: 1 }];
          });
        };
        
        const getTotalPrice = () => {
          return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        };
        
        const getTotalItems = () => {
          return cart.reduce((total, item) => total + item.quantity, 0);
        };
        
        if (isLoading) {
          return React.createElement('div', { className: 'loading-screen' }, [
            React.createElement('div', { key: 'spinner', className: 'loading-spinner' }),
            React.createElement('div', { key: 'logo', className: 'boki-logo' }, 'BOKI'),
            React.createElement('div', { key: 'subtitle', className: 'boki-subtitle' }, 'Food Ordering System'),
            React.createElement('div', { key: 'emojis' }, [
              React.createElement('span', { key: '1', className: 'food-emoji' }, 'üçú'),
              React.createElement('span', { key: '2', className: 'food-emoji' }, 'üçï'),
              React.createElement('span', { key: '3', className: 'food-emoji' }, 'üçî'),
              React.createElement('span', { key: '4', className: 'food-emoji' }, 'ü•ó')
            ])
          ]);
        }
        
        return React.createElement('div', { 
          style: { 
            minHeight: '100vh',
            backgroundColor: '#f8fafc',
            padding: '20px'
          } 
        }, [
          // Header
          React.createElement('header', { 
            key: 'header',
            style: {
              backgroundColor: '#dc2626',
              color: 'white',
              padding: '16px',
              textAlign: 'center',
              marginBottom: '24px',
              borderRadius: '8px',
              boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'
            }
          }, [
            React.createElement('h1', { key: 'title', style: { margin: 0, fontSize: '2rem' } }, 'BOKI'),
            React.createElement('p', { key: 'subtitle', style: { margin: '8px 0 0 0', opacity: 0.9 } }, 'Delicious Filipino Food Delivered Fast!')
          ]),
          
          // Cart Summary
          React.createElement('div', { 
            key: 'cart',
            style: {
              backgroundColor: 'white',
              padding: '16px',
              borderRadius: '8px',
              boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',
              marginBottom: '24px'
            }
          }, [
            React.createElement('h3', { key: 'cart-title', style: { margin: '0 0 12px 0', color: '#374151' } }, 
              'Your Cart (' + getTotalItems() + ' items)'
            ),
            React.createElement('p', { key: 'cart-total', style: { margin: 0, fontSize: '1.2rem', fontWeight: 'bold', color: '#dc2626' } }, 
              'Total: ‚Ç±' + getTotalPrice().toLocaleString()
            )
          ]),
          
          // Food Menu
          React.createElement('div', { key: 'menu' }, [
            React.createElement('h2', { 
              key: 'menu-title', 
              style: { 
                fontSize: '1.5rem', 
                marginBottom: '16px', 
                color: '#374151',
                textAlign: 'center'
              } 
            }, 'Our Menu'),
            React.createElement('div', { 
              key: 'food-grid',
              style: {
                display: 'grid',
                gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',
                gap: '20px'
              }
            }, foodItems.map(item => 
              React.createElement('div', { 
                key: item.id,
                style: {
                  backgroundColor: 'white',
                  padding: '20px',
                  borderRadius: '8px',
                  boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',
                  textAlign: 'center'
                }
              }, [
                React.createElement('div', { 
                  key: 'image',
                  style: { fontSize: '3rem', marginBottom: '12px' }
                }, item.image),
                React.createElement('h3', { 
                  key: 'name',
                  style: { margin: '0 0 8px 0', color: '#374151', fontSize: '1.2rem' }
                }, item.name),
                React.createElement('p', { 
                  key: 'description',
                  style: { margin: '0 0 12px 0', color: '#6b7280', fontSize: '0.9rem' }
                }, item.description),
                React.createElement('div', { 
                  key: 'price-row',
                  style: {
                    display: 'flex',
                    justifyContent: 'space-between',
                    alignItems: 'center',
                    marginTop: '16px'
                  }
                }, [
                  React.createElement('span', { 
                    key: 'price',
                    style: { fontSize: '1.3rem', fontWeight: 'bold', color: '#dc2626' }
                  }, '‚Ç±' + item.price.toLocaleString()),
                  React.createElement('button', {
                    key: 'add-btn',
                    onClick: () => addToCart(item),
                    style: {
                      backgroundColor: '#dc2626',
                      color: 'white',
                      border: 'none',
                      padding: '8px 16px',
                      borderRadius: '6px',
                      cursor: 'pointer',
                      fontSize: '0.9rem',
                      fontWeight: 'bold'
                    }
                  }, 'Add to Cart')
                ])
              ])
            ))
          ])
        ]);
      }
      
      // Render the app
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(React.createElement(App));
    </script>
  </body>
</html>